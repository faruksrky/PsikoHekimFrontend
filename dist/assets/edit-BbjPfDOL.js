import{j as t,a2 as j,p as r,u as b,r as a,a0 as p,C as d,H as l}from"./index-CynfWJw_.js";import{u as g}from"./use-params-B1Psjq0d.js";import"./DataGridContainer-BdHldlzz.js";import{C as k}from"./custom-breadcrumbs-D1SIBx8r.js";import{P as D}from"./patient-new-edit-form-DxsQV1xJ.js";import"./index-B5Fc--5R.js";import"./zod-C2F2f5go.js";import"./fields-CkpNXIXJ.js";import"./KeyboardArrowRight-DAjf8yPQ.js";import"./Select-Cf1IhRw-.js";import"./isMuiElement-DgtO_rkw.js";import"./use-popover-BYoJAYR4.js";import"./styles-CjY7tkEK.js";import"./Chip-BAdTIlY7.js";import"./Checkbox-B5NrqAli.js";import"./DatePicker-D6Bg7nNj.js";import"./DialogContent-C7q4RNtx.js";import"./Tabs-BVcslzTo.js";import"./Snackbar-DRE7eJ0q.js";import"./Grid2-dUppYYIQ.js";import"./Card-CrNj0u9u.js";import"./DialogTitle-DxWrXely.js";import"./config-context-client-v7VOFo66-SrREZ7yf.js";function w({currentPatient:e}){return t.jsxs(j,{maxWidth:"xl",children:[t.jsx(k,{heading:"Güncelle",links:[{name:"Dashboard",href:r.dashboard.root},{name:"Danışan",href:r.dashboard.patient.root},{name:e?`${e.patientFirstName} ${e.patientLastName}`:"Güncelle"}],sx:{mb:{xs:3,md:5}}}),t.jsx(D,{currentPatient:e})]})}const c={title:`Danışan Bilgi Güncelle | Dashboard - ${d.appName}`};function Y(){const{id:e=""}=g(),i=b(),[h,u]=a.useState(null),[f,s]=a.useState(!0),n=a.useCallback(async()=>{if(!e){p.error("Danışan ID bulunamadı"),i.push(r.dashboard.patient.list);return}try{s(!0);const o=sessionStorage.getItem("jwt_access_token"),m=await fetch(`${d.psikoHekimBaseUrl}/patient/${e}`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to fetch patient");const x=await m.json();u(x)}catch(o){console.error("Error fetching patient:",o),p.error("Danışan bilgileri yüklenirken hata oluştu"),i.push(r.dashboard.patient.list)}finally{s(!1)}},[e,i]);return a.useEffect(()=>{n()},[n]),f?t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsxs("title",{children:[" ",c.title]})}),t.jsx("div",{children:"Yükleniyor..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsxs("title",{children:[" ",c.title]})}),t.jsx(w,{currentPatient:h})]})}export{Y as default};
