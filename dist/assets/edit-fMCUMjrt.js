import{j as t,a2 as j,p as a,u as b,r as e,a0 as p,C as c,H as l}from"./index-CynfWJw_.js";import{u as g}from"./use-params-B1Psjq0d.js";import{C as k}from"./custom-breadcrumbs-D1SIBx8r.js";import{b as D}from"./therapist-new-edit-form-BujCsZMp.js";import"./DataGridContainer-BdHldlzz.js";import"./zod-C2F2f5go.js";import"./fields-CkpNXIXJ.js";import"./KeyboardArrowRight-DAjf8yPQ.js";import"./Select-Cf1IhRw-.js";import"./isMuiElement-DgtO_rkw.js";import"./index-B5Fc--5R.js";import"./use-popover-BYoJAYR4.js";import"./styles-CjY7tkEK.js";import"./Chip-BAdTIlY7.js";import"./Checkbox-B5NrqAli.js";import"./DatePicker-D6Bg7nNj.js";import"./DialogContent-C7q4RNtx.js";import"./Tabs-BVcslzTo.js";import"./Snackbar-DRE7eJ0q.js";import"./form-provider-BboyyOkn.js";import"./Grid2-dUppYYIQ.js";import"./Card-CrNj0u9u.js";import"./Alert-BoZA29CH.js";import"./config-context-client-v7VOFo66-SrREZ7yf.js";function w({currentTherapist:r}){return t.jsxs(j,{maxWidth:"xl",children:[t.jsx(k,{heading:"Güncelle",links:[{name:"Dashboard",href:a.dashboard.root},{name:"Danışman",href:a.dashboard.therapist.root},{name:r?`${r.therapistFirstName} ${r.therapistLastName}`:"Güncelle"}],sx:{mb:{xs:3,md:5}}}),t.jsx(D,{currentTherapist:r})]})}const h={title:`Danışman Bilgi Güncelle | Dashboard - ${c.appName}`};function q(){const{id:r=""}=g(),s=b(),[d,u]=e.useState(null),[f,o]=e.useState(!0),n=e.useCallback(async()=>{if(!r){p.error("Danışman ID bulunamadı"),s.push(a.dashboard.therapist.list);return}try{o(!0);const i=sessionStorage.getItem("jwt_access_token"),m=await fetch(`${c.psikoHekimBaseUrl}/therapist/${r}`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to fetch therapist");const x=await m.json();u(x)}catch(i){console.error("Error fetching therapist:",i),p.error("Danışman bilgileri yüklenirken hata oluştu"),s.push(a.dashboard.therapist.list)}finally{o(!1)}},[r,s]);return e.useEffect(()=>{n()},[n]),f?t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsxs("title",{children:[" ",h.title]})}),t.jsx("div",{children:"Yükleniyor..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsxs("title",{children:[" ",h.title]})}),t.jsx(w,{currentTherapist:d})]})}export{q as default};
